/**
 * Ledgerly Design System - CSS Custom Properties
 *
 * Based on:
 * - docs/architecture/design-system.md
 * - docs/ai-frontend-prompt.md
 *
 * These tokens provide the foundation for consistent theming across the application
 * and enable dark mode support via prefers-color-scheme media query.
 */

:root {
  /* ============================================
     PRIMARY BRAND COLORS
     ============================================ */

  /* Deep Blue - Professional, trustworthy (primary in light mode) */
  --primary-color: hsl(210, 29%, 24%);
  --primary-foreground: hsl(0, 0%, 100%);

  /* Teal - Positive actions, growth, accent (becomes primary in dark mode) */
  --accent-color: hsl(168, 76%, 42%);
  --accent-foreground: hsl(0, 0%, 100%);
  --accent-color-rgb: 26, 188, 156; /* For alpha transparency */

  /* ============================================
     SEMANTIC COLORS
     ============================================ */

  /* Success - Savings, positive trends, downward expense trends */
  --success-color: hsl(145, 63%, 42%);
  --success-foreground: hsl(0, 0%, 100%);

  /* Destructive - Warnings, overdrafts, upward expense trends */
  --destructive-color: hsl(0, 65%, 51%);
  --destructive-foreground: hsl(0, 0%, 100%);

  /* Warning - Medium confidence, needs review */
  --warning-color: hsl(45, 100%, 51%);
  --warning-foreground: hsl(0, 0%, 0%);

  /* ============================================
     SURFACE COLORS
     ============================================ */

  --background: hsl(0, 0%, 100%);                /* White background */
  --foreground: hsl(210, 11%, 15%);              /* Dark text */

  --card-background: hsl(0, 0%, 100%);           /* Card background */
  --card-foreground: hsl(210, 11%, 15%);         /* Card text */

  --muted-background: hsl(210, 17%, 95%);        /* Muted backgrounds */
  --muted-foreground: hsl(215, 14%, 34%);        /* Muted text */

  --secondary-background: hsl(210, 17%, 95%);    /* Light neutral */
  --secondary-foreground: hsl(210, 11%, 15%);

  /* ============================================
     BORDERS & INPUTS
     ============================================ */

  --border-color: hsl(210, 20%, 90%);
  --input-border: hsl(210, 20%, 90%);
  --input-background: hsl(0, 0%, 100%);

  /* ============================================
     TEXT COLORS
     ============================================ */

  --text-primary: hsl(210, 11%, 15%);            /* Primary text */
  --text-secondary: hsl(215, 14%, 34%);          /* Secondary/muted text */
  --text-disabled: hsl(215, 14%, 64%);           /* Disabled text */

  /* ============================================
     CHART COLORS
     ============================================ */

  --chart-1: hsl(168, 76%, 42%);                 /* Teal */
  --chart-2: hsl(210, 29%, 24%);                 /* Deep blue */
  --chart-3: hsl(145, 63%, 42%);                 /* Green */
  --chart-4: hsl(0, 65%, 51%);                   /* Red */
  --chart-5: hsl(280, 60%, 50%);                 /* Purple */

  /* ============================================
     TYPOGRAPHY
     ============================================ */

  /* System font stack for native feel */
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                 "Helvetica Neue", Arial, sans-serif;

  /* Monospace for financial data, dates, and code */
  --font-monospace: ui-monospace, 'SF Mono', Menlo, Consolas,
                    'Courier New', 'Liberation Mono', monospace;

  /* Font sizes (Tailwind-inspired scale) */
  --text-xs: 0.75rem;       /* 12px - Metadata, badges */
  --text-sm: 0.875rem;      /* 14px - Supporting text, table cells */
  --text-base: 1rem;        /* 16px - Default body text */
  --text-lg: 1.125rem;      /* 18px - Monetary values */
  --text-xl: 1.25rem;       /* 20px - Section headings */
  --text-2xl: 1.5rem;       /* 24px - Card titles */
  --text-3xl: 1.875rem;     /* 30px - Page titles */

  /* Font weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;

  /* ============================================
     SPACING (Tailwind-style rem units)
     ============================================ */

  --spacing-0: 0;
  --spacing-1: 0.25rem;     /* 4px - Tight spacing */
  --spacing-2: 0.5rem;      /* 8px - Icon-text gaps */
  --spacing-3: 0.75rem;     /* 12px - List items */
  --spacing-4: 1rem;        /* 16px - Component gaps */
  --spacing-6: 1.5rem;      /* 24px - Section spacing */
  --spacing-8: 2rem;        /* 32px - Large padding */
  --spacing-12: 3rem;       /* 48px - Major section dividers */

  /* ============================================
     BORDER RADIUS
     ============================================ */

  --radius-sm: 0.25rem;     /* 4px - Small elements */
  --radius-md: 0.375rem;    /* 6px - Buttons, inputs */
  --radius-lg: 0.5rem;      /* 8px - Cards, modals */
  --radius-full: 9999px;    /* Fully rounded (badges) */

  /* ============================================
     SHADOWS & ELEVATION
     ============================================ */

  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

  /* ============================================
     FOCUS INDICATORS (WCAG AA Compliance)
     ============================================ */

  --focus-ring-width: 2px;
  --focus-ring-color: var(--accent-color);
  --focus-ring-offset: 2px;

  /* ============================================
     BREAKPOINTS (for reference in media queries)
     ============================================ */

  /* These are not CSS custom properties (can't be used in media queries)
     but are documented here for reference */
  /* --breakpoint-sm: 640px;   /* Small tablets */
  /* --breakpoint-md: 768px;   /* Tablets */
  /* --breakpoint-lg: 1024px;  /* Desktop */
  /* --breakpoint-xl: 1366px;  /* Standard desktop */
  /* --breakpoint-2xl: 1920px; /* Large desktop */
}

/* ============================================
   DARK MODE
   ============================================

   Inspired by VS Code's dark theme (#1C1E26 deep slate)
   Automatically applies when user's OS is in dark mode
   ============================================ */

@media (prefers-color-scheme: dark) {
  :root {
    /* Brand Colors - Teal becomes primary in dark mode */
    --primary-color: hsl(168, 76%, 42%);
    --primary-foreground: hsl(220, 13%, 12%);

    --accent-color: hsl(168, 76%, 42%);
    --accent-foreground: hsl(220, 13%, 12%);

    /* Surface Colors */
    --background: hsl(220, 13%, 12%);             /* Deep slate #1C1E26 */
    --foreground: hsl(210, 20%, 88%);             /* Light text */

    --card-background: hsl(220, 13%, 15%);        /* Slightly lighter slate */
    --card-foreground: hsl(210, 20%, 88%);

    --muted-background: hsl(220, 13%, 18%);
    --muted-foreground: hsl(215, 14%, 65%);

    --secondary-background: hsl(220, 13%, 18%);
    --secondary-foreground: hsl(210, 20%, 88%);

    /* Borders & Inputs */
    --border-color: hsl(220, 13%, 22%);
    --input-border: hsl(220, 13%, 22%);
    --input-background: hsl(220, 13%, 15%);

    /* Text Colors */
    --text-primary: hsl(210, 20%, 88%);
    --text-secondary: hsl(215, 14%, 65%);
    --text-disabled: hsl(215, 14%, 45%);

    /* Chart Colors - Adjusted for contrast */
    --chart-2: hsl(210, 50%, 60%);                /* Lighter blue for contrast */
    --chart-5: hsl(280, 60%, 60%);                /* Lighter purple for contrast */

    /* Shadows - Lighter in dark mode */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.4);
  }
}

/* ============================================
   GLOBAL FOCUS STYLES (WCAG AA Compliance)
   ============================================ */

*:focus-visible {
  outline: var(--focus-ring-width) solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
  border-radius: var(--radius-sm);
}

/* Remove default focus for mouse users, keep for keyboard */
*:focus:not(:focus-visible) {
  outline: none;
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

/* Monospace font for financial amounts */
.font-mono {
  font-family: var(--font-monospace);
}

/* Text colors */
.text-primary {
  color: var(--text-primary);
}

.text-secondary {
  color: var(--text-secondary);
}

.text-success {
  color: var(--success-color);
}

.text-destructive {
  color: var(--destructive-color);
}

.text-warning {
  color: var(--warning-color);
}

/* Background colors */
.bg-accent {
  background-color: var(--accent-color);
  color: var(--accent-foreground);
}

.bg-success {
  background-color: var(--success-color);
  color: var(--success-foreground);
}

.bg-destructive {
  background-color: var(--destructive-color);
  color: var(--destructive-foreground);
}

/* Border utilities */
.border-accent {
  border-color: var(--accent-color);
}

/* Spacing utilities */
.gap-2 {
  gap: var(--spacing-2);
}

.gap-4 {
  gap: var(--spacing-4);
}

.gap-6 {
  gap: var(--spacing-6);
}

/* ============================================
   RESPONSIVE UTILITIES
   ============================================ */

/* Hide on mobile */
@media (max-width: 767px) {
  .hidden-mobile {
    display: none;
  }
}

/* Hide on desktop */
@media (min-width: 768px) {
  .hidden-desktop {
    display: none;
  }
}

/* ============================================
   ACCESSIBILITY HELPERS
   ============================================ */

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Skip to main content link (for keyboard navigation) */
.skip-to-main {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--primary-color);
  color: var(--primary-foreground);
  padding: var(--spacing-2) var(--spacing-4);
  text-decoration: none;
  z-index: 100;
}

.skip-to-main:focus {
  top: 0;
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  :root {
    /* Force light mode for printing */
    --background: white;
    --foreground: black;
    --text-primary: black;
    --border-color: #999;
  }

  /* Hide non-printable elements */
  button, .no-print {
    display: none !important;
  }
}
